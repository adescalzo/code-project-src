```yaml
---
title: "From .NET 6 to .NET 8, my migration experience: Migrating Durable Functions .NET 8 isolated – Anthony Giretti's .NET blog"
source: https://anthonygiretti.com/2024/12/05/from-net-6-to-net-8-my-migration-experience-migrating-durable-functions-net-8-isolated/?utm_source=newsletter.csharpdigest.net&utm_medium=newsletter&utm_campaign=lesser-known-clr-gc-handles&_bhlid=fd05f2b8055829faada9dce8c2648ccb7ccaa698
date_published: 2025-03-07T00:00:00.000Z
date_captured: 2025-08-08T18:07:11.329Z
domain: anthonygiretti.com
author: Unknown
category: ai_ml
technologies: [.NET 6, .NET 8, Azure Functions, Durable Functions, NuGet, Application Insights, ASP.NET Core, Visual Studio, Azure App Configuration, GitHub]
programming_languages: [C#]
tags: [azure-functions, durable-functions, .net-8, migration, csharp, cloud, application-insights, isolated-worker, dotnet-migration, azure]
key_concepts: [azure-functions-isolated-process, durable-functions-migration, activitytrigger, entitytrigger, orchestrationtrigger, durableclient, retry-policy, dependency-injection]
code_examples: false
difficulty_level: intermediate
summary: |
  The article provides a detailed guide for migrating Azure Durable Functions from .NET 6 in-process to the .NET 8 isolated worker model. It outlines necessary changes across project files, NuGet packages, and environment settings, including updates to the `csproj` and `Program.cs`. The author meticulously explains how to adapt Activity, Entity, and Orchestration triggers, as well as Durable Clients, to the new isolated model, highlighting key syntax and parameter changes. The post also addresses common migration hurdles, such as function indexing errors and Application Insights logging configurations. This comprehensive tutorial aims to simplify the complex upgrade process for developers.
---
```

# From .NET 6 to .NET 8, my migration experience: Migrating Durable Functions .NET 8 isolated – Anthony Giretti's .NET blog

# [Anthony Giretti's .NET blog](https://anthonygiretti.com/)

Ain't no mountain high enough

![A headshot of a man with short hair, glasses, and a goatee, wearing a dark collared shirt. Likely the author, Anthony Giretti.](https://anthonygiretti.com/wp-content/uploads/2023/03/moi-ai3.png)

![A logo indicating "244 EXPERT VERIFIED 4.2021 ASP.NET Core" with "PLURALSIGHT IQ" at the bottom. This suggests a Pluralsight IQ score related to ASP.NET Core expertise.](https://anthonygiretti.com/wp-content/uploads/2020/05/mvp-logo-2.png)

## Search

Search for:

## Follow me !

[](https://twitter.com/anthonygiretti "Twitter")[](https://github.com/AnthonyGiretti "Github")[](https://www.linkedin.com/in/anthony-g-98670426/ "Linkedin")

![A black background with white text: "HTTPS://ANTHONYGIRETTI.COM/", ".NET", and "FROM .NET 6 TO .NET 8, MY MIGRATION EXPERIENCE: MIGRATING DURABLE FUNCTIONS .NET 8 ISOLATED". This appears to be a promotional image or banner for the blog post.](https://anthonygiretti.com/wp-content/uploads/2021/04/1619719919093.jpg)

## Tags

[.NET](https://anthonygiretti.com/tag/net/) [.NET 5](https://anthonygiretti.com/tag/net-5/) [.NET 6](https://anthonygiretti.com/tag/net-6/) [.NET 7](https://anthonygiretti.com/tag/net-7/) [.NET Core](https://anthonygiretti.com/tag/net-core/) [.NET Core 3](https://anthonygiretti.com/tag/net-core-3/) [adal-angular5](https://anthonygiretti.com/tag/adal-angular5/) [adal.js](https://anthonygiretti.com/tag/adal-js/) [Angular 5](https://anthonygiretti.com/tag/angular-5/) [ASP.NET Core](https://anthonygiretti.com/tag/asp-net-core/) [ASP.NET Core 2.1](https://anthonygiretti.com/tag/asp-net-core-2-1/) [ASP.NET Core 2.2](https://anthonygiretti.com/tag/asp-net-core-2-2/) [ASP.NET Core 3](https://anthonygiretti.com/tag/asp-net-core-3/) [ASP.NET Core 5](https://anthonygiretti.com/tag/asp-net-core-5/) [ASP.NET Core 6](https://anthonygiretti.com/tag/asp-net-core-6/) [ASP.NET Core 7](https://anthonygiretti.com/tag/asp-net-core-7/) [Azure Functions](https://anthonygiretti.com/tag/azure-functions/) [C#](https://anthonygiretti.com/tag/c/) [C# 9](https://anthonygiretti.com/tag/c-9/) [C# 10](https://anthonygiretti.com/tag/c-10/) [C#11](https://anthonygiretti.com/tag/c11/) [C# 11](https://anthonygiretti.com/tag/c-11/) [Dapper](https://anthonygiretti.com/tag/dapper/) [Entity Framework Core](https://anthonygiretti.com/tag/entity-framework-core/) [Entity Framework Core 2](https://anthonygiretti.com/tag/entity-framework-core-2/) [ExpectedObjects](https://anthonygiretti.com/tag/expectedobjects/) [Google Charts](https://anthonygiretti.com/tag/google-charts/) [gRPC](https://anthonygiretti.com/tag/grpc/) [gRPC Client](https://anthonygiretti.com/tag/grpc-client/) [Javascript](https://anthonygiretti.com/tag/javascript/) [Massive](https://anthonygiretti.com/tag/massive/) [minimal APIs](https://anthonygiretti.com/tag/minimal-apis/) [NPoco](https://anthonygiretti.com/tag/npoco/) [OrmLite](https://anthonygiretti.com/tag/ormlite/) [Peta POCO](https://anthonygiretti.com/tag/peta-poco/) [Polly](https://anthonygiretti.com/tag/polly/) [SQL](https://anthonygiretti.com/tag/sql/) [SQL SERVER](https://anthonygiretti.com/tag/sql-server/) [Typescript](https://anthonygiretti.com/tag/typescript/) [unit tests](https://anthonygiretti.com/tag/unit-tests/) [Visual Studio 2019](https://anthonygiretti.com/tag/visual-studio-2019/) [Visual Studio Code](https://anthonygiretti.com/tag/visual-studio-code/) [VSTS](https://anthonygiretti.com/tag/vsts/) [Web API](https://anthonygiretti.com/tag/web-api/) [XUnit](https://anthonygiretti.com/tag/xunit/)

## My latest posts

*   [C# 13: Introducing the new escape sequence](https://anthonygiretti.com/2025/03/07/c-13-introducing-the-new-escape-sequence/) 2025-03-07
*   [C# 13: Introducing System.Threading.Lock](https://anthonygiretti.com/2025/03/05/c-13-introducing-system-threading-lock/) 2025-03-05
*   [C# 13: Extended params for Method Parameters](https://anthonygiretti.com/2025/03/01/c-13-extended-params-for-method-parameters/) 2025-03-01
*   [ASP.NET Core 9: Discover the new developer Exception page](https://anthonygiretti.com/2025/01/06/asp-net-core-9-discover-the-new-developer-exception-page/) 2025-01-06
*   [From .NET 6 to .NET 8, my migration experience: Migrating Durable Functions .NET 8 isolated](https://anthonygiretti.com/2024/12/05/from-net-6-to-net-8-my-migration-experience-migrating-durable-functions-net-8-isolated/) 2024-12-05

Styled Blog WordPress Theme by [Blaze Themes](https://blazethemes.com)

![A black background with white text: "FROM .NET 6 TO .NET 8, MY MIGRATION EXPERIENCE: MIGRATING DURABLE FUNCTIONS .NET 8 ISOLATED". This is another banner image for the article.](https://anthonygiretti.com/wp-content/uploads/2024/12/migrate-durable-function-to-net8-isolated.png)

*   [.NET](https://anthonygiretti.com/category/net/)
*   [Azure](https://anthonygiretti.com/category/azure/)
*   [C#](https://anthonygiretti.com/category/c/)

SHARE:

[](https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fanthonygiretti.com%2F2024%2F12%2F05%2Ffrom-net-6-to-net-8-my-migration-experience-migrating-durable-functions-net-8-isolated%2F%3Futm_source%3Dnewsletter.csharpdigest.net%26utm_medium%3Dnewsletter%26utm_campaign%3Dlesser-known-clr-gc-handles%26_bhlid%3Dfd05f2b8055829faada9dce8c2648ccb7ccaa698 "Facebook")[](https://twitter.com/intent/tweet?text=From%20.NET%206%20to%20.NET%208%2C%20my%20migration%20experience%3A%20Migrating%20Durable%20Functions%20.NET%208%20isolated&url=https%3A%2F%2Fanthonygiretti.com%2F2024%2F12%2F05%2Ffrom-net-6-to-net-8-my-migration-experience-migrating-durable-functions-net-8-isolated%2F%3Futm_source%3Dnewsletter.csharpdigest.net%26utm_medium%3Dnewsletter%26utm_campaign%3Dlesser-known-clr-gc-handles%26_bhlid%3Dfd05f2b8055829faada9dce8c2648ccb7ccaa698 "Twitter")[](https://mastodon.social/share?text=https%3A%2F%2Fanthonygiretti.com%2F2024%2F12%2F05%2Ffrom-net-6-to-net-8-my-migration-experience-migrating-durable-functions-net-8-isolated%2F%3Futm_source%3Dnewsletter.csharpdigest.net%26utm_medium%3Dnewsletter%26utm_campaign%3Dlesser-known-clr-gc-handles%26_bhlid%3Dfd05f2b8055829faada9dce8c2648ccb7ccaa698&title=From%20.NET%206%20to%20.NET%208%2C%20my%20migration%20experience%3A%20Migrating%20Durable%20Functions%20.NET%208%20isolated "Mastodon")[](https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fanthonygiretti.com%2F2024%2F12%2F05%2Ffrom-net-6-to-net-8-my-migration-experience-migrating-durable-functions-net-8-isolated%2F%3Futm_source%3Dnewsletter.csharpdigest.net%26utm_medium%3Dnewsletter%26utm_campaign%3Dlesser-known-clr-gc-handles%26_bhlid%3Dfd05f2b8055829faada9dce8c2648ccb7ccaa698 "Linkedin")[](https://reddit.com/submit?url=https%3A%2F%2Fanthonygiretti.com%2F2024%2F12%2F05%2Ffrom-net-6-to-net-8-my-migration-experience-migrating-durable-functions-net-8-isolated%2F%3Futm_source%3Dnewsletter.csharpdigest.net%26utm_medium%3Dnewsletter%26utm_campaign%3Dlesser-known-clr-gc-handles%26_bhlid%3Dfd05f2b8055829faada9dce8c2648ccb7ccaa698&title=From%20.NET%206%20to%20.NET%208%2C%20my%20migration%20experience%3A%20Migrating%20Durable%20Functions%20.NET%208%20isolated "Reddit")[](https://anthonygiretti.com/2024/12/05/from-net-6-to-net-8-my-migration-experience-migrating-durable-functions-net-8-isolated/?utm_source=newsletter.csharpdigest.net&#038;utm_medium=newsletter&#038;utm_campaign=lesser-known-clr-gc-handles&#038;_bhlid=fd05f2b8055829faada9dce8c2648ccb7ccaa698 "More")

# From .NET 6 to .NET 8, my migration experience: Migrating Durable Functions .NET 8 isolated

2024-12-05 by [anthonygiretti](https://anthonygiretti.com/author/anthonygiretti/)

[](https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fanthonygiretti.com%2F2024%2F12%2F05%2Ffrom-net-6-to-net-8-my-migration-experience-migrating-durable-functions-net-8-isolated%2F%3Futm_source%3Dnewsletter.csharpdigest.net%26utm_medium%3Dnewsletter%26utm_campaign%3Dlesser-known-clr-gc-handles%26_bhlid%3Dfd05f2b8055829faada9dce8c2648ccb7ccaa698 "Facebook")[](https://twitter.com/intent/tweet?text=From%20.NET%206%20to%20.NET%208%2C%20my%20migration%20experience%3A%20Migrating%20Durable%20Functions%20.NET%208%20isolated&url=https%3A%2F%2Fanthonygiretti.com%2F2024%2F12%2F05%2Ffrom-net-6-to-net-8-my-migration-experience-migrating-durable-functions-net-8-isolated%2F%3Futm_source%3Dnewsletter.csharpdigest.net%26utm_medium%3Dnewsletter%26utm_campaign%3Dlesser-known-clr-gc-handles%26_bhlid%3Dfd05f2b8055829faada9dce8c2648ccb7ccaa698 "Twitter")[](https://mastodon.social/share?text=https%3A%2F%2Fanthonygiretti.com%2F2024%2F12%2F05%2Ffrom-net-6-to-net-8-my-migration-experience-migrating-durable-functions-net-8-isolated%2F%3Futm_source%3Dnewsletter.csharpdigest.net%26utm_medium%3Dnewsletter%26utm_campaign%3Dlesser-known-clr-gc-handles%26_bhlid%3Dfd05f2b8055829faada9dce8c2648ccb7ccaa698&title=From%20.NET%206%20to%20.NET%208%2C%20my%20migration%20experience%3A%20Migrating%20Durable%20Functions%20.NET%208%20isolated "Mastodon")[](https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fanthonygiretti.com%2F2024%2F12%2F05%2Ffrom-net-6-to-net-8-my-migration-experience-migrating-durable-functions-net-8-isolated%2F%3Futm_source%3Dnewsletter.csharpdigest.net%26utm_medium%3Dnewsletter%26utm_campaign%3Dlesser-known-clr-gc-handles%26_bhlid%3Dfd05f2b8055829faada9dce8c2648ccb7ccaa698 "Linkedin")[](https://reddit.com/submit?url=https%3A%2F%2Fanthonygiretti.com%2F2024%2F12%2F05%2Ffrom-net-6-to-net-8-my-migration-experience-migrating-durable-functions-net-8-isolated%2F%3Futm_source%3Dnewsletter.csharpdigest.net%26utm_medium%3Dnewsletter%26utm_campaign%3Dlesser-known-clr-gc-handles%26_bhlid%3Dfd05f2b8055829faada9dce8c2648ccb7ccaa698&title=From%20.NET%206%20to%20.NET%208%2C%20my%20migration%20experience%3A%20Migrating%20Durable%20Functions%20.NET%208%20isolated "Reddit")[](https://anthonygiretti.com/2024/12/05/from-net-6-to-net-8-my-migration-experience-migrating-durable-functions-net-8-isolated/?utm_source=newsletter.csharpdigest.net&#038;utm_medium=newsletter&#038;utm_campaign=lesser-known-clr-gc-handles&#038;_bhlid=fd05f2b8055829faada9dce8c2648ccb7ccaa698 "More")

## Introduction

We recently started migrating our applications from **.NET 6** to **[.NET 8](https://learn.microsoft.com/en-us/dotnet/core/whats-new/dotnet-8/overview)**. The migration was quite simple for all Functions that were not Durable. [Durable Functions](https://learn.microsoft.com/en-us/azure/azure-functions/durable/durable-functions-overview?tabs=in-process%2Cnodejs-v3%2Cv1-model&pivots=csharp) on [**.NET 8 isolated**](https://learn.microsoft.com/en-us/azure/azure-functions/dotnet-isolated-process-guide?tabs=hostbuilder%2Cwindows) were often difficult. In this post I will show you all the scenarios we encountered in our Functions. If I can save you from having headaches during your migration project in 2025 I will be very happy! In this post I will show you step by step how to migrate your function!

## Common changes

Before going into the details of [Durable Functions](https://learn.microsoft.com/en-us/azure/azure-functions/durable/durable-functions-overview?tabs=in-process%2Cnodejs-v3%2Cv1-model&pivots=csharp) we will start with the generalities associated with Azure Functions. We will see in this section the changes to be made to your _NuGet_ packages, _csproj_ file, your _Program.cs_ startup file.

### CsProj file

In your CsProj file, ensure that you are turning your function to .NET 8, in the v4 version and with that output type set to “Exe”, which are mandatory to run to Function to .NET 8 isolated (you can set it to .NET 9 as well).

Your PropertyGroup section should look like this:

```xml
<PropertyGroup>
<TargetFramework>net8.0</TargetFramework>
<AzureFunctionsVersion>v4</AzureFunctionsVersion>
<OutputType>Exe</OutputType>
</PropertyGroup>
```

[view raw](https://gist.github.com/AnthonyGiretti/339a0a0b3287bf90e05bfe0809d798c1/raw/c664cd60a279deceed575af73b259af7312d7e2c/csproj) [csproj](https://gist.github.com/AnthonyGiretti/339a0a0b3287bf90e05bfe0809d798c1#file-csproj) hosted with ❤ by [GitHub](https://github.com)

If your functions is crashing and says “Function already exists”:

![A screenshot of a terminal or console displaying error messages related to Azure Functions. The text "Function already exists" and "Worker failed to load function" are visible, indicating a common migration issue.](https://anthonygiretti.com/wp-content/uploads/2024/12/function-already-exists-1024x155.png)

You must add in your csproj the following tag in your csproj to remove that error:

```xml
<FunctionsEnableWorkerIndexing>False</FunctionsEnableWorkerIndexing>
```

### Nuget packages

Your project will need a ton of changes as follows:

1- Whatever the type of the function, any Nuget packages that contain “WebJobs” must be replaced as follow: From Microsoft.Azure.**WebJobs**.{Feature} To Microsoft.Azure.**Functions.Worker**.{Feature}, example:

Microsoft.Azure.**WebJobs**.Extensions.EventGrid becomes Microsoft.Azure.**Functions.Worker**.Extensions.EventGrid

2- Whatever the type of the function the following packages must be added with the Isolated mode:

*   [Microsoft.Azure.Functions.Worker.Sdk](https://www.nuget.org/packages/Microsoft.Azure.Functions.Worker.Sdk)
*   [Microsoft.Azure.Functions.Extensions](https://www.nuget.org/packages?q=Microsoft.Azure.Functions.Extensions)
*   [Microsoft.Azure.Functions.Worker](https://www.nuget.org/packages/Microsoft.Azure.Functions.Worker)

You can now remove this following package which was necessary with the in-process model. It’s been replaced by the **Microsoft.Azure.Functions.Worker.Sdk** package for isolated model.

3- If you are using Application Insights you’ll need both packages:

*   [Microsoft.ApplicationInsights.WorkerService](https://www.nuget.org/packages/Microsoft.ApplicationInsights.WorkerService)
*   [Microsoft.Azure.Functions.Worker.ApplicationInsights](https://www.nuget.org/packages/Microsoft.Azure.Functions.Worker.ApplicationInsights)

4- I strongly suggest you to enable the ASP.NET Core Integration with the following package:

[Microsoft.Azure.Functions.Worker.Extensions.Http.AspNetCore](https://www.nuget.org/packages/Microsoft.Azure.Functions.Worker.Extensions.Http.AspNetCore)

If you want more explanations about it, you can check my previous post: [ASP.NET Core: Using the ASP.NET Core integration on Azure functions – Anthony Giretti’s .NET blog](https://anthonygiretti.com/2024/11/04/asp-net-core-using-the-asp-net-core-integration-on-azure-functions/)

### local.settings.json file

To run Isolated functions on Visual Studio, you’ll need to turn the **FUNCTIONS\_WORKER\_RUNTIME** from **dotnet** to **dotnet-isolated** as follows:

```json
{
"IsEncrypted": false,
"Values": {
"AzureWebJobsStorage": "UseDevelopmentStorage=true",
"FUNCTIONS_WORKER_RUNTIME": "dotnet-isolated",
}
}
```

[view raw](https://gist.github.com/AnthonyGiretti/1d635c1a8693be0ec12878fa7212bc39/raw/c638d1aaeaec7220cdff4842c966c26892adbd82/local.appsettings.json) [local.appsettings.json](https://gist.github.